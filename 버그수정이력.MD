버그수정이력

1. buffer_LS_Width 0 으로 인해 Exception 발생

문제 분석 결과
buffer_LS_Width가 0이 되는 원인을 찾았습니다. 문제는 다음과 같은 시나리오에서 발생합니다:
원인 분석
초기화 문제 (gf.cs:1220, gf.cs:1228)
LS_Width = 0으로 초기화됨
Buffer_LS_Width = 0으로 초기화됨
SizeLaunchScreen() 함수 호출 시 (gf.cs:7897-7958)
gf.cs:7904에서 GetScreenName()을 호출하여 LS_Width를 설정하려고 시도
그러나 selectScreen이 null인 경우 (gf.cs:8285-8312)에는 w (LS_Width) 파라미터가 업데이트되지 않음
GetScreenName() 함수의 문제점 (gf.cs:8262-8346)

if (selectScreen != null)
{
// w, h, t, l 값을 설정
}
// else 구문이 없어서 selectScreen이 null이면 w 값이 설정되지 않음!
selectScreen이 null일 때를 처리하는 else 블록이 없음
예외가 발생하면 catch 블록에서 selectScreen.Bounds.Size를 접근하려고 하는데, selectScreen이 여전히 null이면 또다시 예외 발생
결과적으로
LS_Width가 0으로 남음
gf.cs:7929-7938의 조건문에서:
LS_Height >= 768이면 Buffer_LS_Width = LS_Width (즉, 0)
LS_Height < 768이면 Buffer_LS_Width = (int)((float)LS_Width * num) (즉, 0)
FormatText에서 문제 발생 (gf.cs:7246)

int buffer_LS_Width = Buffer_LS_Width; // 0이 할당됨
gf.cs:7318-7319에서 0으로 나누기 시도 가능
추가로 발견된 보완 로직
gf.cs:13307-13344의 SetDefaultBackScreen() 함수에 임시 보완 코드가 있지만, 이것은 FormatText()에서는 적용되지 않습니다.
해결 방법
GetScreenName() 함수 수정: selectScreen == null일 때 기본값 설정
SizeLaunchScreen() 함수 수정: LS_Width가 0이면 기본값 설정
FormatText() 함수 시작 부분에 보호 코드 추가: Buffer_LS_Width가 0이면 기본값 설정
